/*! FormaJS v0.0.2 | (c) Krasen Slavov | https://formajs.com/#license */
const formajs={options:{container:".forma",prefix:"Enter ",suffix:"...",tab:!0,auto:!1,show:!1,manual:!1,submit:!1,support:[]},settings:{},form:"",elements:[],support:["input","select","textarea","button",'input[type="text"]','input[type="email"]','input[type="password"]','select[type="select-one"]','textarea[type="textarea"]','button[type="submit"]'],supportList:"",message:"",init:function(t){if(t&&!this.extend(t))return this.message.split(";").map(t=>(t&&console.error(t),!1)),!1;const e=Object.assign({},this.options,t);this.form=this.utils._(e.container),this.elements=this.form.elements,this.support=[...new Set([...this.support,...e.support])],this.supportList=this.support.join(","),this.utils.isMobile()&&(e.tab=!1,e.show=!0,e.manual=!1),e.tab||e.manual||(e.show=!0),e.show?this.utils.setProperties(this.utils.__("label",this.form),{class:"forma-open"}):this.utils.setProperties(this.utils.__("label",this.form,1),{class:"forma-open"}),e.submit&&this.utils.setProperties(this.utils.__('[type="submit"]',this.form),{disabled:"disabled"}),e.manual&&Object.values(this.utils.__("label",this.form)).map(t=>(t.addEventListener("click",e=>{if(e.preventDefault(),e.target!==e.currentTarget)return!1;this.utils.toggleClasses(t,"forma-open"),this.utils._(this.supportList,t).focus()}),!0)),Object.values(this.elements).map((t,s)=>{const{localName:i,type:o}=t;let a=`${i}[type="${o}"]`,n=t.closest("label")||"";if(n){let i=this.utils._("span",n),o=(e.prefix+i.textContent.toLowerCase()+e.suffix).trim();this.utils.setProperties(t,{tabindex:s,placeholder:o}),e.auto&&this.utils.createAndAppend("div","forma-description",o,i),e.manual&&this.utils.setProperties(n,{class:n.classList+" forma-manual"})}return-1===this.support.indexOf(a)?(console.error(`The form field '${a}' is not supported! Take a look at the documentaion https://formajs.com/.`),!1):(this.listen(t,n,e),!0)}),this.elements[0].click(),this.elements[0].focus()},listen:function(t,e,s){["click","change","keyup","keydown","blur","focus"].map(e=>(t.addEventListener(e,i=>{let o=this.utils._(s.container);if("keydown"===e){if(9===(i.keyCode||i.which)){i.preventDefault();let e=(t.closest("label")||"").nextElementSibling,a=this.utils._(".forma-fieldset",e);s.tab&&Object.values(this.utils.__("label",o)).map(t=>t.classList.remove("forma-open")),a&&(e.classList.add("forma-open"),this.utils._(this.supportList,a).focus()),"label"!==e.localName&&(o.firstElementChild.classList.add("forma-open"),this.utils._(this.support,o.firstElementChild).focus())}}else if("focus"===e)s.submit&&(0!==this.utils.__("span.forma-invalid",o).length||t.validationMessage?this.utils._('[type="submit"]',o).disabled=!0:this.utils._('[type="submit"]',o).disabled=!1);else{const{type:e,validationMessage:s,value:i,title:o,pattern:a}=t;let n=t.closest("label")||"",l=this.utils._("span",n);this.utils.removeElement("div.forma-input",l),this.utils.createAndAppend("div","forma-input",i,l),"password"===e&&i.length>0&&(this.utils._("div.forma-input",l).innerHTML=i.length+" characters"),s?(this.utils.removeElement("div.forma-message",l),o&&a?this.utils.createAndAppend("div","forma-message",o,l):this.utils.createAndAppend("div","forma-message",s,l),this.utils.toggleClasses(l,"forma-valid","forma-invalid")):(this.utils.removeElement("div.forma-message",l),this.utils.toggleClasses(l,"forma-invalid","forma-valid"))}}),!0))},extend(t){return Object.keys(t).map(t=>-1!==Object.keys(this.options).indexOf(t)||(this.message+=`Invalid option '${t}'! Take a look at the documentaion https://formajs.com/.`,!1)),Object.keys(t).map(e=>!!(this.check(t,["container"],e,"string")&&this.check(t,["prefix","suffix"],e,"string")&&this.check(t,["tab","auto","show","manual","submit"],e,"boolean")&&this.check(t,["support"],e,"object"))),t.container&&!this.utils._(t.container)&&(this.message+=`Targeted form container with '${t.container}' not found in the DOM.;`),!this.message},check:function(t,e,s,i){return!(e.indexOf(s)>-1&&typeof t[s]!==i)||(this.message+=`Invalid type for the '${s}' options! Must be a ${i} (true|false).;`,!1)}};function forma(t){return formajs.init(t)}formajs.utils={_:function(t,e=document){return e.querySelector(t)},__:function(t,e=document,s=!1){return s?e.querySelectorAll(t)[0]:e.querySelectorAll(t)},setProperties:function(t={},e={},s=!1){Object.keys(t).length>0?Object.values(t).map(t=>(Object.keys(e).map(s=>(t.setAttribute(s,e[s]),!0)),!0)):Object.keys(e).map(s=>(t.setAttribute(s,e[s]),!0))},createAndAppend:function(t,e="",s="",i=document){let o=document.createElement(t);"string"==typeof e?o.classList.add(e):Object.values(e).map(t=>(o.classList.add(t),!0)),o.innerHTML=s,i.append(o)},toggleClasses:function(t,e,s=""){s||(s=e),t.classList.contains(e)?t.classList.remove(e):t.classList.add(s)},removeElement:function(t,e=document.body){"string"==typeof t&&this._(t,e)&&this._(t,e).remove()},isMobile:function(){return!!(navigator.maxTouchPoints||"ontouchstart"in document.documentElement)}},window.forma=forma;